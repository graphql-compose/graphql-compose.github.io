<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>graphql-compose-mongoose · graphql-compose</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;This is a plugin for &lt;a href=&quot;https://github.com/graphql-compose/graphql-compose&quot;&gt;graphql-compose&lt;/a&gt;, which derives GraphQLType from your &lt;a href=&quot;https://github.com/Automattic/mongoose&quot;&gt;mongoose model&lt;/a&gt;. Also derives bunch of internal GraphQL Types. Provide all CRUD resolvers, including &lt;code&gt;graphql connection&lt;/code&gt;, also provided basic search via operators ($lt, $gt and so on).&lt;/p&gt;
"/><meta name="docsearch:version" content="next"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="graphql-compose-mongoose · graphql-compose"/><meta property="og:type" content="website"/><meta property="og:url" content="https://graphql-compose.github.io/index.html"/><meta property="og:description" content="&lt;p&gt;This is a plugin for &lt;a href=&quot;https://github.com/graphql-compose/graphql-compose&quot;&gt;graphql-compose&lt;/a&gt;, which derives GraphQLType from your &lt;a href=&quot;https://github.com/Automattic/mongoose&quot;&gt;mongoose model&lt;/a&gt;. Also derives bunch of internal GraphQL Types. Provide all CRUD resolvers, including &lt;code&gt;graphql connection&lt;/code&gt;, also provided basic search via operators ($lt, $gt and so on).&lt;/p&gt;
"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/logo.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-83022112-3', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo.png" alt="graphql-compose"/><h2 class="headerTitleWithLogo">graphql-compose</h2></a><a href="/versions.html"><h3>next</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/next/intro/quick-start.html" target="_self">Docs</a></li><li class="siteNavGroupActive"><a href="/docs/next/api/SchemaComposer.html" target="_self">API</a></li><li class="siteNavGroupActive"><a href="/docs/next/plugins/list-of-plugins.html" target="_self">Plugins</a></li><li class=""><a target="_self"></a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="https://opencollective.com/graphql-compose" target="_self">Donate</a></li><li class=""><a href="https://github.com/graphql-compose/graphql-compose" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Plugins</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Introduction</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/next/intro/prerequisites.html">Prerequisites</a></li><li class="navListItem"><a class="navItem" href="/docs/next/intro/installation.html">Installation</a></li><li class="navListItem"><a class="navItem" href="/docs/next/intro/quick-start.html">Quick Start Guide</a></li><li class="navListItem"><a class="navItem" href="/docs/next/intro/live-demos.html">Live Demos</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Basics</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/next/basics/understanding-types.html">Type creation</a></li><li class="navListItem"><a class="navItem" href="/docs/next/basics/type-modification.html">Type modification</a></li><li class="navListItem"><a class="navItem" href="/docs/next/basics/what-is-resolver.html">Resolvers</a></li><li class="navListItem"><a class="navItem" href="/docs/next/basics/understanding-relations.html">Relations between Types</a></li><li class="navListItem"><a class="navItem" href="/docs/next/basics/generating-schema.html">Generating Schema</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">API Reference</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/next/api/SchemaComposer.html">SchemaComposer</a></li><li class="navListItem"><a class="navItem" href="/docs/next/api/ObjectTypeComposer.html">ObjectTypeComposer</a></li><li class="navListItem"><a class="navItem" href="/docs/next/api/InputTypeComposer.html">InputTypeComposer</a></li><li class="navListItem"><a class="navItem" href="/docs/next/api/ScalarTypeComposer.html">ScalarTypeComposer</a></li><li class="navListItem"><a class="navItem" href="/docs/next/api/EnumTypeComposer.html">EnumTypeComposer</a></li><li class="navListItem"><a class="navItem" href="/docs/next/api/InterfaceTypeComposer.html">InterfaceTypeComposer</a></li><li class="navListItem"><a class="navItem" href="/docs/next/api/UnionTypeComposer.html">UnionTypeComposer</a></li><li class="navListItem"><a class="navItem" href="/docs/next/api/ListComposer.html">ListComposer</a></li><li class="navListItem"><a class="navItem" href="/docs/next/api/NonNullComposer.html">NonNullComposer</a></li><li class="navListItem"><a class="navItem" href="/docs/next/api/ThunkComposer.html">ThunkComposer</a></li><li class="navListItem"><a class="navItem" href="/docs/next/api/Resolver.html">Resolver</a></li><li class="navListItem"><a class="navItem" href="/docs/next/api/TypeMapper.html">TypeMapper</a></li><li class="navListItem"><a class="navItem" href="/docs/next/api/misc-api-methods.html">API misc</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Plugins</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/next/plugins/list-of-plugins.html">Plugins list</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/next/plugins/plugin-mongoose.html">Mongoose plugin</a></li><li class="navListItem"><a class="navItem" href="/docs/next/plugins/plugin-elasticsearch.html">ElasticSearch plugin</a></li><li class="navListItem"><a class="navItem" href="/docs/next/plugins/plugin-json.html">Json plugin</a></li><li class="navListItem"><a class="navItem" href="/docs/next/plugins/plugin-relay.html">Relay plugin</a></li><li class="navListItem"><a class="navItem" href="/docs/next/plugins/plugin-connection.html">Connection plugin</a></li><li class="navListItem"><a class="navItem" href="/docs/next/plugins/plugin-pagination.html">Pagination plugin</a></li><li class="navListItem"><a class="navItem" href="/docs/next/plugins/plugin-aws.html">AWS plugin</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Guide</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/next/guide/wrapping-rest-api.html">Wrapping REST API</a></li><li class="navListItem"><a class="navItem" href="/docs/next/guide/file-uploads.html">File uploads</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/graphql-compose/graphql-compose/edit/master/docs/plugins/plugin-mongoose.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">graphql-compose-mongoose</h1></header><article><div><span><p>This is a plugin for <a href="https://github.com/graphql-compose/graphql-compose">graphql-compose</a>, which derives GraphQLType from your <a href="https://github.com/Automattic/mongoose">mongoose model</a>. Also derives bunch of internal GraphQL Types. Provide all CRUD resolvers, including <code>graphql connection</code>, also provided basic search via operators ($lt, $gt and so on).</p>
<p><a href="https://github.com/graphql-compose/graphql-compose-mongoose/blob/alpha/docs/releases/9.0.0.md">Release Notes for v9.0.0</a> contains a lot of improvements. It's strongly recommended for reading before upgrading from v8.</p>
<h2><a class="anchor" aria-hidden="true" id="installation"></a><a href="#installation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h2>
<pre><code class="hljs css language-bash">npm install graphql graphql-compose mongoose graphql-compose-mongoose --save
</code></pre>
<p>Modules <code>graphql</code>, <code>graphql-compose</code>, <code>mongoose</code> are in <code>peerDependencies</code>, so should be installed explicitly in your app. They have global objects and should not have ability to be installed as submodule.</p>
<h2><a class="anchor" aria-hidden="true" id="intro-video"></a><a href="#intro-video" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Intro video</h2>
<p>Viktor Kjartansson created a quite solid intro for <code>graphql-compose-mongoose</code> in comparison with <code>graphql-tools</code>:</p>
<p><a href="https://www.youtube.com/watch?v=RXcY-OoGnQ8" target="_blank"><img src="https://img.youtube.com/vi/RXcY-OoGnQ8/0.jpg" alt="#2 Mongoose - add GraphQL with graphql-compose" style="width: 380px" /></p>
<p><a href="https://www.youtube.com/watch?v=RXcY-OoGnQ8">https://www.youtube.com/watch?v=RXcY-OoGnQ8</a> (23 mins)</p>
<h2><a class="anchor" aria-hidden="true" id="example"></a><a href="#example" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h2>
<p>Live demo: <a href="https://graphql-compose.herokuapp.com/">https://graphql-compose.herokuapp.com/</a></p>
<p>Source code: <a href="https://github.com/graphql-compose/graphql-compose-examples">https://github.com/graphql-compose/graphql-compose-examples</a></p>
<p>Small explanation for variables naming:</p>
<ul>
<li><code>UserSchema</code> - this is a mongoose schema</li>
<li><code>User</code> - this is a mongoose model</li>
<li><code>UserTC</code> - this is a <code>ObjectTypeComposer</code> instance for User. <code>ObjectTypeComposer</code> has <code>GraphQLObjectType</code> inside, available via method <code>UserTC.getType()</code>.</li>
<li>Here and in all other places of code variables suffix <code>...TC</code> means that this is <code>ObjectTypeComposer</code> instance, <code>...ITC</code> - <code>InputTypeComposer</code>, <code>...ETC</code> - <code>EnumTypeComposer</code>.</li>
</ul>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">import</span> mongoose <span class="hljs-keyword">from</span> <span class="hljs-string">'mongoose'</span>;
<span class="hljs-keyword">import</span> { composeMongoose } <span class="hljs-keyword">from</span> <span class="hljs-string">'graphql-compose-mongoose'</span>;
<span class="hljs-keyword">import</span> { schemaComposer } <span class="hljs-keyword">from</span> <span class="hljs-string">'graphql-compose'</span>;

<span class="hljs-comment">// STEP 1: DEFINE MONGOOSE SCHEMA AND MODEL</span>
<span class="hljs-keyword">const</span> LanguagesSchema = <span class="hljs-keyword">new</span> mongoose.Schema({
  language: <span class="hljs-built_in">String</span>,
  skill: {
    <span class="hljs-keyword">type</span>: <span class="hljs-built_in">String</span>,
    <span class="hljs-keyword">enum</span>: [ <span class="hljs-string">'basic'</span>, <span class="hljs-string">'fluent'</span>, <span class="hljs-string">'native'</span> ],
  },
});

<span class="hljs-keyword">const</span> UserSchema = <span class="hljs-keyword">new</span> mongoose.Schema({
  name: <span class="hljs-built_in">String</span>, <span class="hljs-comment">// standard types</span>
  age: {
    <span class="hljs-keyword">type</span>: <span class="hljs-built_in">Number</span>,
    index: <span class="hljs-literal">true</span>,
  },
  ln: {
    <span class="hljs-keyword">type</span>: [LanguagesSchema], <span class="hljs-comment">// you may include other schemas (here included as array of embedded documents)</span>
    <span class="hljs-keyword">default</span>: [],
    alias: <span class="hljs-string">'languages'</span>, <span class="hljs-comment">// in schema `ln` will be named as `languages`</span>
  },
  contacts: { <span class="hljs-comment">// another mongoose way for providing embedded documents</span>
    email: <span class="hljs-built_in">String</span>,
    phones: [<span class="hljs-built_in">String</span>], <span class="hljs-comment">// array of strings</span>
  },
  gender: { <span class="hljs-comment">// enum field with values</span>
    <span class="hljs-keyword">type</span>: <span class="hljs-built_in">String</span>,
    <span class="hljs-keyword">enum</span>: [<span class="hljs-string">'male'</span>, <span class="hljs-string">'female'</span>],
  },
  someMixed: {
    <span class="hljs-keyword">type</span>: mongoose.Schema.Types.Mixed,
    description: <span class="hljs-string">'Can be any mixed type, that will be treated as JSON GraphQL Scalar Type'</span>,
  },
});
<span class="hljs-keyword">const</span> User = mongoose.model(<span class="hljs-string">'User'</span>, UserSchema);


<span class="hljs-comment">// STEP 2: CONVERT MONGOOSE MODEL TO GraphQL PIECES</span>
<span class="hljs-keyword">const</span> customizationOptions = {}; <span class="hljs-comment">// left it empty for simplicity, described below</span>
<span class="hljs-keyword">const</span> UserTC = composeMongoose(User, customizationOptions);

<span class="hljs-comment">// STEP 3: Add needed CRUD User operations to the GraphQL Schema</span>
<span class="hljs-comment">// via graphql-compose it will be much much easier, with less typing</span>
schemaComposer.Query.addFields({
  userById: UserTC.mongooseResolvers.findById(),
  userByIds: UserTC.mongooseResolvers.findByIds(),
  userOne: UserTC.mongooseResolvers.findOne(),
  userMany: UserTC.mongooseResolvers.findMany(),
  userDataLoader: UserTC.mongooseResolvers.dataLoader(),
  userDataLoaderMany: UserTC.mongooseResolvers.dataLoaderMany(),
  userByIdLean: UserTC.mongooseResolvers.findByIdLean(),
  userByIdsLean: UserTC.mongooseResolvers.findByIdsLean(),
  userOneLean: UserTC.mongooseResolvers.findOneLean(),
  userManyLean: UserTC.mongooseResolvers.findManyLean(),
  userDataLoaderLean: UserTC.mongooseResolvers.dataLoaderLean(),
  userDataLoaderManyLean: UserTC.mongooseResolvers.dataLoaderManyLean(),
  userCount: UserTC.mongooseResolvers.count(),
  userConnection: UserTC.mongooseResolvers.connection(),
  userPagination: UserTC.mongooseResolvers.pagination(),
});

schemaComposer.Mutation.addFields({
  userCreateOne: UserTC.mongooseResolvers.createOne(),
  userCreateMany: UserTC.mongooseResolvers.createMany(),
  userUpdateById: UserTC.mongooseResolvers.updateById(),
  userUpdateOne: UserTC.mongooseResolvers.updateOne(),
  userUpdateMany: UserTC.mongooseResolvers.updateMany(),
  userRemoveById: UserTC.mongooseResolvers.removeById(),
  userRemoveOne: UserTC.mongooseResolvers.removeOne(),
  userRemoveMany: UserTC.mongooseResolvers.removeMany(),
});

<span class="hljs-keyword">const</span> graphqlSchema = schemaComposer.buildSchema();
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> graphqlSchema;
</code></pre>
<p>That's all!
You think that is to much code?
I don't think so, because by default internally was created about 55 graphql types (for input, sorting, filtering). So you will need much much more lines of code to implement all these CRUD operations by hands.</p>
<h3><a class="anchor" aria-hidden="true" id="working-with-mongoose-collection-level-discriminators"></a><a href="#working-with-mongoose-collection-level-discriminators" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Working with Mongoose Collection Level Discriminators</h3>
<p>Variable Namings</p>
<ul>
<li><code>...DTC</code> - Suffix for a <code>DiscriminatorTypeComposer</code> instance, which is also an instance of <code>ObjectTypeComposer</code>. All fields and Relations manipulations on this instance affects all registered discriminators and the Discriminator Interface.</li>
</ul>
<pre><code class="hljs css language-ts">  <span class="hljs-keyword">import</span> mongoose <span class="hljs-keyword">from</span> <span class="hljs-string">'mongoose'</span>;
  <span class="hljs-keyword">import</span> { schemaComposer } <span class="hljs-keyword">from</span> <span class="hljs-string">'graphql-compose'</span>;
  <span class="hljs-keyword">import</span> { composeWithMongooseDiscriminators } <span class="hljs-keyword">from</span> <span class="hljs-string">'graphql-compose-mongoose'</span>;

  <span class="hljs-comment">// pick a discriminatorKey</span>
  <span class="hljs-keyword">const</span> DKey = <span class="hljs-string">'type'</span>;

  <span class="hljs-keyword">const</span> enumCharacterType = {
    PERSON: <span class="hljs-string">'Person'</span>,
    DROID: <span class="hljs-string">'Droid'</span>,
  };

  <span class="hljs-comment">// DEFINE BASE SCHEMA</span>
  <span class="hljs-keyword">const</span> CharacterSchema = <span class="hljs-keyword">new</span> mongoose.Schema({
    <span class="hljs-comment">// _id: field...</span>
    <span class="hljs-keyword">type</span>: {
      <span class="hljs-keyword">type</span>: <span class="hljs-built_in">String</span>,
      required: <span class="hljs-literal">true</span>,
      <span class="hljs-keyword">enum</span>: (<span class="hljs-built_in">Object</span>.keys(enumCharacterType): <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;),
      description: <span class="hljs-string">'Character type Droid or Person'</span>,
    },

    name: <span class="hljs-built_in">String</span>,
    height: <span class="hljs-built_in">Number</span>,
    mass: <span class="hljs-built_in">Number</span>,
    films: [<span class="hljs-built_in">String</span>],
  });

  <span class="hljs-comment">// DEFINE DISCRIMINATOR SCHEMAS</span>
  <span class="hljs-keyword">const</span> DroidSchema = <span class="hljs-keyword">new</span> mongoose.Schema({
    makeDate: <span class="hljs-built_in">String</span>,
    primaryFunction: [<span class="hljs-built_in">String</span>],
  });

  <span class="hljs-keyword">const</span> PersonSchema = <span class="hljs-keyword">new</span> mongoose.Schema({
    gender: <span class="hljs-built_in">String</span>,
    hairColor: <span class="hljs-built_in">String</span>,
    starships: [<span class="hljs-built_in">String</span>],
  });

  <span class="hljs-comment">// set discriminator Key</span>
  CharacterSchema.set(<span class="hljs-string">'discriminatorKey'</span>, DKey);

  <span class="hljs-comment">// create base Model</span>
  <span class="hljs-keyword">const</span> CharacterModel = mongoose.model(<span class="hljs-string">'Character'</span>, CharacterSchema);

  <span class="hljs-comment">// create mongoose discriminator models</span>
  <span class="hljs-keyword">const</span> DroidModel = CharacterModel.discriminator(enumCharacterType.DROID, DroidSchema);
  <span class="hljs-keyword">const</span> PersonModel = CharacterModel.discriminator(enumCharacterType.PERSON, PersonSchema);

  <span class="hljs-comment">// create DiscriminatorTypeComposer</span>
  <span class="hljs-keyword">const</span> baseOptions = { <span class="hljs-comment">// regular TypeConverterOptions, passed to composeMongoose</span>
    fields: {
      remove: [<span class="hljs-string">'friends'</span>],
    }
  }
  <span class="hljs-keyword">const</span> CharacterDTC = composeWithMongooseDiscriminators(CharacterModel, baseOptions);

  <span class="hljs-comment">// create Discriminator Types</span>
  <span class="hljs-keyword">const</span> droidTypeConverterOptions = {  <span class="hljs-comment">// this options will be merged with baseOptions -&gt; customizationsOptions</span>
    fields: {
      remove: [<span class="hljs-string">'makeDate'</span>],
    }
  };
  <span class="hljs-keyword">const</span> DroidTC = CharacterDTC.discriminator(DroidModel, droidTypeConverterOptions);
  <span class="hljs-keyword">const</span> PersonTC = CharacterDTC.discriminator(PersonModel);  <span class="hljs-comment">// baseOptions -&gt; customizationsOptions applied</span>

  <span class="hljs-comment">// You may now use CharacterDTC to add fields to all Discriminators</span>
  <span class="hljs-comment">// Use DroidTC, `PersonTC as any other ObjectTypeComposer.</span>
  schemaComposer.Mutation.addFields({
    droidCreate: DroidTC.getResolver(<span class="hljs-string">'createOne'</span>),
    personCreate: PersonTC.getResolver(<span class="hljs-string">'createOne'</span>),
  });

  <span class="hljs-keyword">const</span> schema = schemaComposer.buildSchema();

  describe(<span class="hljs-string">'createOne'</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    it(<span class="hljs-string">'should create child document without specifying DKey'</span>, <span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> graphql.graphql(
        schema,
        <span class="hljs-string">`mutation CreateCharacters {
          droidCreate(record: {name: "Queue XL", modelNumber: 360 }) {
            record {
              __typename
              type
              name
              modelNumber
            }
          }

          personCreate(record: {name: "mernxl", dob: 57275272}) {
            record {
              __typename
              type
              name
              dob
            }
          }
        }`</span>
      );

      expect(res).toEqual({
        data: {
          droidCreate: {
            record: { __typename: <span class="hljs-string">'Droid'</span>, <span class="hljs-keyword">type</span>: <span class="hljs-string">'Droid'</span>, name: <span class="hljs-string">'Queue XL'</span>, modelNumber: <span class="hljs-number">360</span> },
          },
          personCreate: {
            record: { __typename: <span class="hljs-string">'Person'</span>, <span class="hljs-keyword">type</span>: <span class="hljs-string">'Person'</span>, name: <span class="hljs-string">'mernxl'</span>, dob: <span class="hljs-number">57275272</span> },
          },
        },
      });
    });
  });
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="customization-options"></a><a href="#customization-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Customization options</h2>
<h3><a class="anchor" aria-hidden="true" id="composemongoose-customization-options"></a><a href="#composemongoose-customization-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>composeMongoose</code> customization options</h3>
<p>When you converting mongoose model <code>const UserTC = composeMongoose(User, opts: ComposeMongooseOpts);</code> you may tune every piece of future derived types – setup name and description for the main type, remove fields or leave only desired fields.</p>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">type</span> ComposeMongooseOpts = {
  <span class="hljs-comment">/**
   * Which type registry use for generated types.
   * By default is used global default registry.
   */</span>
  schemaComposer?: SchemaComposer&lt;TContext&gt;;
  <span class="hljs-comment">/**
   * What should be base type name for generated type from mongoose model.
   */</span>
  name?: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">/**
   * Provide arbitrary description for generated type.
   */</span>
  description?: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">/**
   * You can leave only whitelisted fields in type via this option.
   * Any other fields will be removed.
   */</span>
  onlyFields?: <span class="hljs-built_in">string</span>[];
  <span class="hljs-comment">/**
   * You an remove some fields from type via this option.
   */</span>
  removeFields?: <span class="hljs-built_in">string</span>[];
  <span class="hljs-comment">/**
   * You may configure generated InputType
   */</span>
  inputType?: TypeConverterInputTypeOpts;
  <span class="hljs-comment">/**
   * You can make fields as NonNull if they have default value in mongoose model.
   */</span>
  defaultsAsNonNull?: <span class="hljs-built_in">boolean</span>;
};
</code></pre>
<p>This is <code>opts.inputType</code> options for default InputTypeObject which will be provided to all resolvers for <code>filter</code> and <code>input</code> args.</p>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">type</span> TypeConverterInputTypeOpts = {
  <span class="hljs-comment">/**
   * What should be input type name.
   * By default: baseTypeName + 'Input'
   */</span>
  name?: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">/**
   * Provide arbitrary description for generated type.
   */</span>
  description?: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">/**
   * You can leave only whitelisted fields in type via this option.
   * Any other fields will be removed.
   */</span>
  onlyFields?: <span class="hljs-built_in">string</span>[];
  <span class="hljs-comment">/**
   * You an remove some fields from type via this option.
   */</span>
  removeFields?: <span class="hljs-built_in">string</span>[];
  <span class="hljs-comment">/**
   * This option makes provided fieldNames as required
   */</span>
  requiredFields?: <span class="hljs-built_in">string</span>[];
};
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="resolvers-customization-options"></a><a href="#resolvers-customization-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resolvers' customization options</h2>
<p>When you are creating resolvers from <code>mongooseResolvers</code> factory, you may provide customizationOptions to it:</p>
<pre><code class="hljs css language-ts">UserTC.mongooseResolvers.findMany(opts);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="connectionopts-connectionresolveropts"></a><a href="#connectionopts-connectionresolveropts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>connection(opts?: ConnectionResolverOpts)</code></h3>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">type</span> ConnectionResolverOpts&lt;TContext = <span class="hljs-built_in">any</span>&gt; = {
  sort: ConnectionSortMapOpts;
  name?: <span class="hljs-built_in">string</span>;
  defaultLimit?: <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span>;
  edgeTypeName?: <span class="hljs-built_in">string</span>;
  edgeFields?: ObjectTypeComposerFieldConfigMap&lt;<span class="hljs-built_in">any</span>, TContext&gt;;
  <span class="hljs-comment">/** See below **/</span>
  countOpts?: CountResolverOpts;
  <span class="hljs-comment">/** See below **/</span>
  findManyOpts?: FindManyResolverOpts;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="countopts-countresolveropts"></a><a href="#countopts-countresolveropts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>count(opts?: CountResolverOpts)</code></h3>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">interface</span> CountResolverOpts {
  <span class="hljs-comment">/** If you want to generate different resolvers you may avoid Type name collision by adding a suffix to type names */</span>
  suffix?: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">/** Customize input-type for `filter` argument. If `false` then arg will be removed. */</span>
  filter?: FilterHelperArgsOpts | <span class="hljs-literal">false</span>;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="createmanyopts-createmanyresolveropts"></a><a href="#createmanyopts-createmanyresolveropts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>createMany(opts?: CreateManyResolverOpts)</code></h3>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">interface</span> CreateManyResolverOpts {
  <span class="hljs-comment">/** If you want to generate different resolvers you may avoid Type name collision by adding a suffix to type names */</span>
  suffix?: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">/** Customize input-type for `records` argument. */</span>
  records?: RecordHelperArgsOpts;
  <span class="hljs-comment">/** Customize payload.recordIds field. If false, then this field will be removed. */</span>
  recordIds?: PayloadRecordIdsHelperOpts | <span class="hljs-literal">false</span>;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="createoneopts-createoneresolveropts"></a><a href="#createoneopts-createoneresolveropts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>createOne(opts?: CreateOneResolverOpts)</code></h3>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">interface</span> CreateOneResolverOpts {
  <span class="hljs-comment">/** If you want to generate different resolvers you may avoid Type name collision by adding a suffix to type names */</span>
  suffix?: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">/** Customize input-type for `record` argument */</span>
  record?: RecordHelperArgsOpts;
  <span class="hljs-comment">/** Customize payload.recordId field. If false, then this field will be removed. */</span>
  recordId?: PayloadRecordIdHelperOpts | <span class="hljs-literal">false</span>;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="dataloaderopts-dataloaderresolveropts"></a><a href="#dataloaderopts-dataloaderresolveropts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>dataLoader(opts?: DataLoaderResolverOpts)</code></h3>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">interface</span> DataLoaderResolverOpts {
  <span class="hljs-comment">/**
   * Enabling the lean option tells Mongoose to skip instantiating
   * a full Mongoose document and just give you the plain JavaScript objects.
   * Documents are much heavier than vanilla JavaScript objects,
   * because they have a lot of internal state for change tracking.
   * The downside of enabling lean is that lean docs don't have:
   *   Default values
   *   Getters and setters
   *   Virtuals
   * Read more about `lean`: https://mongoosejs.com/docs/tutorials/lean.html
   */</span>
  lean?: <span class="hljs-built_in">boolean</span>;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="dataloadermanyopts-dataloadermanyresolveropts"></a><a href="#dataloadermanyopts-dataloadermanyresolveropts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>dataLoaderMany(opts?: DataLoaderManyResolverOpts)</code></h3>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">interface</span> DataLoaderManyResolverOpts {
  <span class="hljs-comment">/**
   * Enabling the lean option tells Mongoose to skip instantiating
   * a full Mongoose document and just give you the plain JavaScript objects.
   * Documents are much heavier than vanilla JavaScript objects,
   * because they have a lot of internal state for change tracking.
   * The downside of enabling lean is that lean docs don't have:
   *   Default values
   *   Getters and setters
   *   Virtuals
   * Read more about `lean`: https://mongoosejs.com/docs/tutorials/lean.html
   */</span>
  lean?: <span class="hljs-built_in">boolean</span>;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="findbyidopts-findbyidresolveropts"></a><a href="#findbyidopts-findbyidresolveropts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>findById(opts?: FindByIdResolverOpts)</code></h3>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">interface</span> FindByIdResolverOpts {
  <span class="hljs-comment">/**
   * Enabling the lean option tells Mongoose to skip instantiating
   * a full Mongoose document and just give you the plain JavaScript objects.
   * Documents are much heavier than vanilla JavaScript objects,
   * because they have a lot of internal state for change tracking.
   * The downside of enabling lean is that lean docs don't have:
   *   Default values
   *   Getters and setters
   *   Virtuals
   * Read more about `lean`: https://mongoosejs.com/docs/tutorials/lean.html
   */</span>
  lean?: <span class="hljs-built_in">boolean</span>;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="findbyidsopts-findbyidsresolveropts"></a><a href="#findbyidsopts-findbyidsresolveropts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>findByIds(opts?: FindByIdsResolverOpts)</code></h3>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">interface</span> FindByIdsResolverOpts {
  <span class="hljs-comment">/**
   * Enabling the lean option tells Mongoose to skip instantiating
   * a full Mongoose document and just give you the plain JavaScript objects.
   * Documents are much heavier than vanilla JavaScript objects,
   * because they have a lot of internal state for change tracking.
   * The downside of enabling lean is that lean docs don't have:
   *   Default values
   *   Getters and setters
   *   Virtuals
   * Read more about `lean`: https://mongoosejs.com/docs/tutorials/lean.html
   */</span>
  lean?: <span class="hljs-built_in">boolean</span>;
  limit?: LimitHelperArgsOpts | <span class="hljs-literal">false</span>;
  sort?: SortHelperArgsOpts | <span class="hljs-literal">false</span>;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="findmanyopts-findmanyresolveropts"></a><a href="#findmanyopts-findmanyresolveropts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>findMany(opts?: FindManyResolverOpts)</code></h3>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">interface</span> FindManyResolverOpts {
  <span class="hljs-comment">/**
   * Enabling the lean option tells Mongoose to skip instantiating
   * a full Mongoose document and just give you the plain JavaScript objects.
   * Documents are much heavier than vanilla JavaScript objects,
   * because they have a lot of internal state for change tracking.
   * The downside of enabling lean is that lean docs don't have:
   *   Default values
   *   Getters and setters
   *   Virtuals
   * Read more about `lean`: https://mongoosejs.com/docs/tutorials/lean.html
   */</span>
  lean?: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-comment">/** If you want to generate different resolvers you may avoid Type name collision by adding a suffix to type names */</span>
  suffix?: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">/** Customize input-type for `filter` argument. If `false` then arg will be removed. */</span>
  filter?: FilterHelperArgsOpts | <span class="hljs-literal">false</span>;
  sort?: SortHelperArgsOpts | <span class="hljs-literal">false</span>;
  limit?: LimitHelperArgsOpts | <span class="hljs-literal">false</span>;
  skip?: <span class="hljs-literal">false</span>;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="findoneopts-findoneresolveropts"></a><a href="#findoneopts-findoneresolveropts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>findOne(opts?: FindOneResolverOpts)</code></h3>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">interface</span> FindOneResolverOpts {
  <span class="hljs-comment">/**
   * Enabling the lean option tells Mongoose to skip instantiating
   * a full Mongoose document and just give you the plain JavaScript objects.
   * Documents are much heavier than vanilla JavaScript objects,
   * because they have a lot of internal state for change tracking.
   * The downside of enabling lean is that lean docs don't have:
   *   Default values
   *   Getters and setters
   *   Virtuals
   * Read more about `lean`: https://mongoosejs.com/docs/tutorials/lean.html
   */</span>
  lean?: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-comment">/** If you want to generate different resolvers you may avoid Type name collision by adding a suffix to type names */</span>
  suffix?: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">/** Customize input-type for `filter` argument. If `false` then arg will be removed. */</span>
  filter?: FilterHelperArgsOpts | <span class="hljs-literal">false</span>;
  sort?: SortHelperArgsOpts | <span class="hljs-literal">false</span>;
  skip?: <span class="hljs-literal">false</span>;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="paginationopts-paginationresolveropts"></a><a href="#paginationopts-paginationresolveropts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>pagination(opts?: PaginationResolverOpts)</code></h3>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">interface</span> PaginationResolverOpts {
  name?: <span class="hljs-built_in">string</span>;
  perPage?: <span class="hljs-built_in">number</span>;
  countOpts?: CountResolverOpts;
  findManyOpts?: FindManyResolverOpts;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="removebyidopts-removebyidresolveropts"></a><a href="#removebyidopts-removebyidresolveropts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>removeById(opts?: RemoveByIdResolverOpts)</code></h3>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">interface</span> RemoveByIdResolverOpts {
  <span class="hljs-comment">/** If you want to generate different resolvers you may avoid Type name collision by adding a suffix to type names */</span>
  suffix?: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">/** Customize payload.recordId field. If false, then this field will be removed. */</span>
  recordId?: PayloadRecordIdHelperOpts | <span class="hljs-literal">false</span>;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="removemanyopts-removemanyresolveropts"></a><a href="#removemanyopts-removemanyresolveropts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>removeMany(opts?: RemoveManyResolverOpts)</code></h3>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">interface</span> RemoveManyResolverOpts {
  <span class="hljs-comment">/** If you want to generate different resolvers you may avoid Type name collision by adding a suffix to type names */</span>
  suffix?: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">/** Customize input-type for `filter` argument. If `false` then arg will be removed. */</span>
  filter?: FilterHelperArgsOpts | <span class="hljs-literal">false</span>;
  limit?: LimitHelperArgsOpts | <span class="hljs-literal">false</span>;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="removeoneopts-removeoneresolveropts"></a><a href="#removeoneopts-removeoneresolveropts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>removeOne(opts?: RemoveOneResolverOpts)</code></h3>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">interface</span> RemoveOneResolverOpts {
  <span class="hljs-comment">/** If you want to generate different resolvers you may avoid Type name collision by adding a suffix to type names */</span>
  suffix?: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">/** Customize input-type for `filter` argument. If `false` then arg will be removed. */</span>
  filter?: FilterHelperArgsOpts | <span class="hljs-literal">false</span>;
  sort?: SortHelperArgsOpts | <span class="hljs-literal">false</span>;
  <span class="hljs-comment">/** Customize payload.recordId field. If false, then this field will be removed. */</span>
  recordId?: PayloadRecordIdHelperOpts | <span class="hljs-literal">false</span>;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="updatebyidopts-updatebyidresolveropts"></a><a href="#updatebyidopts-updatebyidresolveropts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>updateById(opts?: UpdateByIdResolverOpts)</code></h3>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">interface</span> UpdateByIdResolverOpts {
  <span class="hljs-comment">/** If you want to generate different resolvers you may avoid Type name collision by adding a suffix to type names */</span>
  suffix?: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">/** Customize input-type for `record` argument. */</span>
  record?: RecordHelperArgsOpts;
  <span class="hljs-comment">/** Customize payload.recordId field. If false, then this field will be removed. */</span>
  recordId?: PayloadRecordIdHelperOpts | <span class="hljs-literal">false</span>;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="updatemanyopts-updatemanyresolveropts"></a><a href="#updatemanyopts-updatemanyresolveropts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>updateMany(opts?: UpdateManyResolverOpts)</code></h3>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">interface</span> UpdateManyResolverOpts {
  <span class="hljs-comment">/** If you want to generate different resolvers you may avoid Type name collision by adding a suffix to type names */</span>
  suffix?: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">/** Customize input-type for `record` argument. */</span>
  record?: RecordHelperArgsOpts;
  <span class="hljs-comment">/** Customize input-type for `filter` argument. If `false` then arg will be removed. */</span>
  filter?: FilterHelperArgsOpts | <span class="hljs-literal">false</span>;
  sort?: SortHelperArgsOpts | <span class="hljs-literal">false</span>;
  limit?: LimitHelperArgsOpts | <span class="hljs-literal">false</span>;
  skip?: <span class="hljs-literal">false</span>;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="updateoneopts-updateoneresolveropts"></a><a href="#updateoneopts-updateoneresolveropts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>updateOne(opts?: UpdateOneResolverOpts)</code></h3>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">interface</span> UpdateOneResolverOpts {
  <span class="hljs-comment">/** If you want to generate different resolvers you may avoid Type name collision by adding a suffix to type names */</span>
  suffix?: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">/** Customize input-type for `record` argument. */</span>
  record?: RecordHelperArgsOpts;
  <span class="hljs-comment">/** Customize input-type for `filter` argument. If `false` then arg will be removed. */</span>
  filter?: FilterHelperArgsOpts | <span class="hljs-literal">false</span>;
  sort?: SortHelperArgsOpts | <span class="hljs-literal">false</span>;
  skip?: <span class="hljs-literal">false</span>;
  <span class="hljs-comment">/** Customize payload.recordId field. If false, then this field will be removed. */</span>
  recordId?: PayloadRecordIdHelperOpts | <span class="hljs-literal">false</span>;
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="description-of-common-resolvers-options"></a><a href="#description-of-common-resolvers-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description of common resolvers' options</h3>
<h4><a class="anchor" aria-hidden="true" id="filterhelperargsopts"></a><a href="#filterhelperargsopts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>FilterHelperArgsOpts</code></h4>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">type</span> FilterHelperArgsOpts = {
  <span class="hljs-comment">/**
   * Add to filter arg only that fields which are indexed.
   * If false then all fields will be available for filtering.
   * By default: true
   */</span>
  onlyIndexed?: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-comment">/**
   * You an remove some fields from type via this option.
   */</span>
  removeFields?: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">string</span>[];
  <span class="hljs-comment">/**
   * This option makes provided fieldNames as required
   */</span>
  requiredFields?: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">string</span>[];
  <span class="hljs-comment">/**
   * Customize operators filtering or disable it at all.
   * By default, for performance reason, `graphql-compose-mongoose` generates operators
   * *only for indexed* fields.
   *
   * BUT you may enable operators for all fields when creating resolver in the following way:
   *   // enables all operators for all fields
   *   operators: true,
   * OR provide a more granular `operators` configuration to suit your needs:
   *   operators: {
   *     // for `age` field add just 3 operators
   *     age: ['in', 'gt', 'lt'],
   *     // for non-indexed `amount` field add all operators
   *     amount: true,
   *     // don't add this field to operators
   *     indexedField: false,
   *   }
   *
   * Available logic operators: AND, OR
   * Available field operators: gt, gte, lt, lte, ne, in, nin, regex, exists
   */</span>
  operators?: FieldsOperatorsConfig | <span class="hljs-literal">false</span>;
  <span class="hljs-comment">/**
   * Make arg `filter` as required if this option is true.
   */</span>
  isRequired?: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-comment">/**
   * Base type name for generated filter argument.
   */</span>
  baseTypeName?: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">/**
   * Provide custom prefix for Type name
   */</span>
  prefix?: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">/**
   * Provide custom suffix for Type name
   */</span>
  suffix?: <span class="hljs-built_in">string</span>;
};
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="sorthelperargsopts"></a><a href="#sorthelperargsopts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>SortHelperArgsOpts</code></h4>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">type</span> SortHelperArgsOpts = {
  <span class="hljs-comment">/**
   * Allow sort by several fields.
   * This makes arg as array of sort values.
   */</span>
  multi?: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-comment">/**
   * This option set custom type name for generated sort argument.
   */</span>
  sortTypeName?: <span class="hljs-built_in">string</span>;
};
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="recordhelperargsopts"></a><a href="#recordhelperargsopts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>RecordHelperArgsOpts</code></h4>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">type</span> RecordHelperArgsOpts = {
  <span class="hljs-comment">/**
   * You an remove some fields from type via this option.
   */</span>
  removeFields?: <span class="hljs-built_in">string</span>[];
  <span class="hljs-comment">/**
   * This option makes provided fieldNames as required
   */</span>
  requiredFields?: <span class="hljs-built_in">string</span>[];
  <span class="hljs-comment">/**
   * This option makes all fields nullable by default.
   * May be overridden by `requiredFields` property
   */</span>
  allFieldsNullable?: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-comment">/**
   * Provide custom prefix for Type name
   */</span>
  prefix?: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">/**
   * Provide custom suffix for Type name
   */</span>
  suffix?: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">/**
   * Make arg `record` as required if this option is true.
   */</span>
  isRequired?: <span class="hljs-built_in">boolean</span>;
};
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="limithelperargsopts"></a><a href="#limithelperargsopts" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>LimitHelperArgsOpts</code></h4>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">type</span> LimitHelperArgsOpts = {
  <span class="hljs-comment">/**
   * Set limit for default number of returned records
   * if it does not provided in query.
   * By default: 100
   */</span>
  defaultValue?: <span class="hljs-built_in">number</span>;
};
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="faq"></a><a href="#faq" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>FAQ</h2>
<h3><a class="anchor" aria-hidden="true" id="can-i-get-generated-vanilla-graphql-types"></a><a href="#can-i-get-generated-vanilla-graphql-types" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Can I get generated vanilla GraphQL types?</h3>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">const</span> UserTC = composeMongoose(User);
UserTC.getType(); <span class="hljs-comment">// returns GraphQLObjectType</span>
UserTC.getInputType(); <span class="hljs-comment">// returns GraphQLInputObjectType, eg. for args</span>
UserTC.get(<span class="hljs-string">'languages'</span>).getType(); <span class="hljs-comment">// get GraphQLObjectType for nested field</span>
UserTC.get(<span class="hljs-string">'fieldWithNesting.subNesting'</span>).getType(); <span class="hljs-comment">// get GraphQL type of deep nested field</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="how-to-add-custom-fields"></a><a href="#how-to-add-custom-fields" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to add custom fields?</h3>
<pre><code class="hljs css language-ts">UserTC.addFields({
  lonLat: ObjectTypeComposer.create(<span class="hljs-string">'type LonLat { lon: Float, lat: Float }'</span>),
  notice: <span class="hljs-string">'String'</span>, <span class="hljs-comment">// shorthand definition</span>
  noticeList: { <span class="hljs-comment">// extended</span>
    <span class="hljs-keyword">type</span>: <span class="hljs-string">'[String]'</span>, <span class="hljs-comment">// String, Int, Float, Boolean, ID, Json</span>
    description: <span class="hljs-string">'Array of notices'</span>,
    resolve: <span class="hljs-function">(<span class="hljs-params">source, args, context, info</span>) =&gt;</span> <span class="hljs-string">'some value'</span>,
  },
  bio: {
    <span class="hljs-keyword">type</span>: GraphQLString,
    description: <span class="hljs-string">'Providing vanilla GraphQL type'</span>
  }
})
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="how-to-build-nesting-relations"></a><a href="#how-to-build-nesting-relations" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to build nesting/relations?</h3>
<p>Suppose you <code>User</code> model has <code>friendsIds</code> field with array of user ids. So let build some relations:</p>
<pre><code class="hljs css language-ts">UserTC.addRelation(
  <span class="hljs-string">'friends'</span>,
  {
    resolver: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> UserTC.mongooseResolvers.dataLoaderMany(),
    prepareArgs: { <span class="hljs-comment">// resolver `findByIds` has `_ids` arg, let provide value to it</span>
      _ids: <span class="hljs-function">(<span class="hljs-params">source</span>) =&gt;</span> source.friendsIds,
    },
    projection: { friendsIds: <span class="hljs-number">1</span> }, <span class="hljs-comment">// point fields in source object, which should be fetched from DB</span>
  }
);
UserTC.addRelation(
  <span class="hljs-string">'adultFriendsWithSameGender'</span>,
  {
    resolver: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> UserTC.mongooseResolvers.findMany(),
    prepareArgs: { <span class="hljs-comment">// resolver `findMany` has `filter` arg, we may provide mongoose query to it</span>
      filter: <span class="hljs-function">(<span class="hljs-params">source</span>) =&gt;</span> ({
        _operators : { <span class="hljs-comment">// Applying criteria on fields which have</span>
                       <span class="hljs-comment">// operators enabled for them (by default, indexed fields only)</span>
          _id : { <span class="hljs-keyword">in</span>: source.friendsIds },
          age: { gt: <span class="hljs-number">21</span> }
        },
        gender: source.gender,
      }),
      limit: <span class="hljs-number">10</span>,
    },
    projection: { friendsIds: <span class="hljs-number">1</span>, gender: <span class="hljs-number">1</span> }, <span class="hljs-comment">// required fields from source object</span>
  }
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="reusing-the-same-mongoose-schema-in-embedded-object-fields"></a><a href="#reusing-the-same-mongoose-schema-in-embedded-object-fields" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reusing the same mongoose Schema in embedded object fields</h3>
<p>Suppose you have a common structure you use as embedded object in multiple Schemas.
Also suppose you want the structure to have the same GraphQL type across all parent types.
(For instance, to allow reuse of fragments for this type)
Here are Schemas to demonstrate:</p>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">import</span> { Schema } <span class="hljs-keyword">from</span> <span class="hljs-string">'mongoose'</span>;

<span class="hljs-keyword">const</span> ImageDataStructure = Schema({
  url: <span class="hljs-built_in">String</span>,
  dimensions : {
    width: <span class="hljs-built_in">Number</span>,
    height: <span class="hljs-built_in">Number</span>
  }
}, { _id: <span class="hljs-literal">false</span> });

<span class="hljs-keyword">const</span> UserProfile = Schema({
  fullName: <span class="hljs-built_in">String</span>,
  personalImage: ImageDataStructure
});

<span class="hljs-keyword">const</span> Article = Schema({
  title: <span class="hljs-built_in">String</span>,
  heroImage: ImageDataStructure
});
</code></pre>
<p>If you want the <code>ImageDataStructure</code> to use the same GraphQL type in both <code>Article</code> and <code>UserProfile</code> you will need create it as a mongoose schema (not a standard javascript object) and to explicitly tell <code>graphql-compose-mongoose</code> the name you want it to have. Otherwise, without the name, it would generate the name according to the first parent this type was embedded in.</p>
<p>Do the following:</p>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">import</span> { schemaComposer } <span class="hljs-keyword">from</span> <span class="hljs-string">'graphql-compose'</span>; <span class="hljs-comment">// get the default schemaComposer or your created schemaComposer</span>
<span class="hljs-keyword">import</span> { convertSchemaToGraphQL } <span class="hljs-keyword">from</span> <span class="hljs-string">'graphql-compose-mongoose'</span>;

convertSchemaToGraphQL(ImageDataStructure, <span class="hljs-string">'EmbeddedImage'</span>, schemaComposer); <span class="hljs-comment">// Force this type on this mongoose schema</span>
</code></pre>
<p>Before continuing to convert your models to TypeComposers:</p>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">import</span> mongoose <span class="hljs-keyword">from</span> <span class="hljs-string">'mongoose'</span>;
<span class="hljs-keyword">import</span> { composeMongoose } <span class="hljs-keyword">from</span> <span class="hljs-string">'graphql-compose-mongoose'</span>;

<span class="hljs-keyword">const</span> UserProfile = mongoose.model(<span class="hljs-string">'UserProfile'</span>, UserProfile);
<span class="hljs-keyword">const</span> Article = mongoose.model(<span class="hljs-string">'Article'</span>, Article);

<span class="hljs-keyword">const</span> UserProfileTC = composeMongoose(UserProfile);
<span class="hljs-keyword">const</span> ArticleTC = composeMongoose(Article);
</code></pre>
<p>Then, you can use queries like this:</p>
<pre><code class="hljs css language-graphql"><span class="hljs-class">query </span>{
  <span class="hljs-class">topUser </span>{
    fullName
    <span class="hljs-class">personalImage </span>{
      ...fullImageData
    }
  }
  <span class="hljs-class">topArticle </span>{
    title
    <span class="hljs-class">heroImage </span>{
      ...fullImageData
    }
  }
}
fragment fullImageData on <span class="hljs-class">EmbeddedImage </span>{
  url
  <span class="hljs-class">dimensions </span>{
    width height
  }
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="access-and-modify-mongoose-doc-before-save"></a><a href="#access-and-modify-mongoose-doc-before-save" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Access and modify mongoose doc before save</h3>
<p>This library provides some amount of ready resolvers for fetch and update data which was mentioned above. And you can <a href="https://github.com/graphql-compose/graphql-compose">create your own resolver</a> of course. However you can find that add some actions or light modifications of mongoose document directly before save at existing resolvers appears more simple than create new resolver. Some of resolvers accepts <em>before save hook</em> which can be provided in <em>resolver params</em> as param named <code>beforeRecordMutate</code>. This hook allows to have access and modify mongoose document before save. The resolvers which supports this hook are:</p>
<ul>
<li>createOne</li>
<li>createMany</li>
<li>removeById</li>
<li>removeOne</li>
<li>updateById</li>
<li>updateOne</li>
</ul>
<p>The prototype of before save hook:</p>
<pre><code class="hljs css language-ts">(doc: mixed, rp: ResolverResolveParams) =&gt; <span class="hljs-built_in">Promise</span>&lt;*&gt;,
</code></pre>
<p>The typical implementation may be like this:</p>
<pre><code class="hljs css language-ts"><span class="hljs-comment">// extend resolve params with hook</span>
rp.beforeRecordMutate = <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">doc, rp</span>) </span>{
  doc.userTouchedAt = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();

  <span class="hljs-keyword">const</span> canMakeUpdate  = <span class="hljs-keyword">await</span> performAsyncTask( ...provide data <span class="hljs-keyword">from</span> doc... )
  <span class="hljs-keyword">if</span> (!canMakeUpdate) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Forbidden!'</span>);
  }

  <span class="hljs-keyword">return</span> doc;
}
</code></pre>
<p>You can provide your implementation directly in type composer:</p>
<pre><code class="hljs css language-ts">UserTC.wrapResolverResolve(<span class="hljs-string">'updateById'</span>, <span class="hljs-function"><span class="hljs-params">next</span> =&gt;</span> <span class="hljs-keyword">async</span> rp =&gt; {

  <span class="hljs-comment">// extend resolve params with hook</span>
  rp.beforeRecordMutate = <span class="hljs-keyword">async</span> (doc, resolveParams) =&gt; { ... };

  <span class="hljs-keyword">return</span> next(rp);
});
</code></pre>
<p>or you can create wrappers for example to protect access:</p>
<pre><code class="hljs css language-ts"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">adminAccess</span>(<span class="hljs-params">resolvers</span>) </span>{
  <span class="hljs-built_in">Object</span>.keys(resolvers).forEach(<span class="hljs-function">(<span class="hljs-params">k</span>) =&gt;</span> {
    resolvers[k] = resolvers[k].wrapResolve(<span class="hljs-function"><span class="hljs-params">next</span> =&gt;</span> <span class="hljs-keyword">async</span> rp =&gt; {

      <span class="hljs-comment">// extend resolve params with hook</span>
      rp.beforeRecordMutate = <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">doc, rp</span>) </span>{ ... }

      <span class="hljs-keyword">return</span> next(rp)
    })
  })
  <span class="hljs-keyword">return</span> resolvers
}

<span class="hljs-comment">// and wrap the resolvers</span>
schemaComposer.Mutation.addFields({
  createResource: ResourceTC.mongooseResolvers.createOne(),
  createResources: ResourceTC.mongooseResolvers.createMany(),
  ...adminAccess({
    updateResource: ResourceTC.mongooseResolvers.updateById(),
    removeResource: ResourceTC.mongooseResolvers.removeById(),
  }),
});
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="how-can-i-push-pop-or-add-remove-values-to-arrays"></a><a href="#how-can-i-push-pop-or-add-remove-values-to-arrays" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How can I push/pop or add/remove values to arrays?</h3>
<p>The default resolvers, by design, will replace (overwrite) any supplied array object when using e.g. <code>updateById</code>. If you want to push or pop a value in an array you can use a custom resolver with a native MongoDB call.</p>
<p>For example (push):</p>
<pre><code class="hljs css language-ts">schemaComposer.Mutation.addFields({
  userPushToArray: {
    <span class="hljs-keyword">type</span>: UserTC,
    args: { userId: <span class="hljs-string">'MongoID!'</span>, valueToPush: <span class="hljs-string">'String'</span> },
    resolve: <span class="hljs-keyword">async</span> (source, args, context, info) =&gt; {
      <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> User.update(
        { _id: args.userId },
        { $push: { arrayToPushTo: args.valueToPush } }
      );
      <span class="hljs-keyword">if</span> (!user) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> <span class="hljs-comment">// or gracefully return an error etc...</span>
      <span class="hljs-keyword">return</span> User.findOne({ _id: args.userId }) <span class="hljs-comment">// return the record</span>
    }
  }
})
</code></pre>
<p><code>User</code> is the corresponding Mongoose model. If you do not wish to allow duplicates in the array then replace <code>$push</code> with <code>$addToSet</code>. Read the graphql-compose docs on custom resolvers for more info: <a href="https://graphql-compose.github.io/docs/en/basics-resolvers.html">https://graphql-compose.github.io/docs/en/basics-resolvers.html</a></p>
<p>NB if you set <code>unique: true</code> on the array then using the <code>update</code> <code>$push</code> approach will not check for duplicates, this is due to a MongoDB bug: <a href="https://jira.mongodb.org/browse/SERVER-1068">https://jira.mongodb.org/browse/SERVER-1068</a>. For more usage examples with <code>$push</code> and arrays see the MongoDB docs here <a href="https://docs.mongodb.com/manual/reference/operator/update/push/">https://docs.mongodb.com/manual/reference/operator/update/push/</a>. Also note that <code>$push</code> will preserve order in the array (append to end of array) whereas <code>$addToSet</code> will not.</p>
<h3><a class="anchor" aria-hidden="true" id="is-it-possible-to-use-several-schemas"></a><a href="#is-it-possible-to-use-several-schemas" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Is it possible to use several schemas?</h3>
<p>By default <code>composeMongoose</code> uses global <code>schemaComposer</code> for generated types. If you need to create different GraphQL schemas you need create own <code>schemaComposer</code>s and provide them to <code>customizationOptions</code>:</p>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">import</span> { SchemaComposer } <span class="hljs-keyword">from</span> <span class="hljs-string">'graphql-compose'</span>;

<span class="hljs-keyword">const</span> schema1 = <span class="hljs-keyword">new</span> SchemaComposer();
<span class="hljs-keyword">const</span> schema2 = <span class="hljs-keyword">new</span> SchemaComposer();

<span class="hljs-keyword">const</span> UserTCForSchema1 = composeMongoose(User, { schemaComposer: schema1 });
<span class="hljs-keyword">const</span> UserTCForSchema2 = composeMongoose(User, { schemaComposer: schema2 });
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="embedded-documents-has-id-field-and-you-don-t-need-it"></a><a href="#embedded-documents-has-id-field-and-you-don-t-need-it" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Embedded documents has <code>_id</code> field and you don't need it?</h3>
<p>Just turn them off in mongoose:</p>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">const</span> UsersSchema = <span class="hljs-keyword">new</span> Schema({
  _id: { <span class="hljs-keyword">type</span>: <span class="hljs-built_in">String</span> }
  emails: [{
    _id: <span class="hljs-literal">false</span>, <span class="hljs-comment">// &lt;-- disable id addition in mongoose</span>
    address: { <span class="hljs-keyword">type</span>: <span class="hljs-built_in">String</span> },
    verified: <span class="hljs-built_in">Boolean</span>
  }]
});
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="can-field-name-in-schema-have-different-name-in-database"></a><a href="#can-field-name-in-schema-have-different-name-in-database" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Can field name in schema have different name in database?</h3>
<p>Yes, it can. This package understands mongoose <a href="https://mongoosejs.com/docs/guide.html#aliases"><code>alias</code> option</a> for fields. Just provide <code>alias: 'country'</code> for field <code>c</code> and you get <code>country</code> field name in GraphQL schema and Mongoose model but <code>c</code> field in database:</p>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">const</span> childSchema = <span class="hljs-keyword">new</span> Schema({
  c: {
    <span class="hljs-keyword">type</span>: <span class="hljs-built_in">String</span>,
    alias: <span class="hljs-string">'country'</span>
  }
});
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="license"></a><a href="#license" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>License</h2>
<p><a href="https://github.com/graphql-compose/graphql-compose-mongoose/blob/master/LICENSE.md">MIT</a></p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/next/plugins/list-of-plugins.html"><span class="arrow-prev">← </span><span>Plugins list</span></a><a class="docs-next button" href="/docs/next/plugins/plugin-elasticsearch.html"><span class="function-name-prevnext">ElasticSearch plugin</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#installation">Installation</a></li><li><a href="#intro-video">Intro video</a></li><li><a href="#example">Example</a><ul class="toc-headings"><li><a href="#working-with-mongoose-collection-level-discriminators">Working with Mongoose Collection Level Discriminators</a></li></ul></li><li><a href="#customization-options">Customization options</a><ul class="toc-headings"><li><a href="#composemongoose-customization-options"><code>composeMongoose</code> customization options</a></li></ul></li><li><a href="#resolvers-customization-options">Resolvers' customization options</a><ul class="toc-headings"><li><a href="#connectionopts-connectionresolveropts"><code>connection(opts?: ConnectionResolverOpts)</code></a></li><li><a href="#countopts-countresolveropts"><code>count(opts?: CountResolverOpts)</code></a></li><li><a href="#createmanyopts-createmanyresolveropts"><code>createMany(opts?: CreateManyResolverOpts)</code></a></li><li><a href="#createoneopts-createoneresolveropts"><code>createOne(opts?: CreateOneResolverOpts)</code></a></li><li><a href="#dataloaderopts-dataloaderresolveropts"><code>dataLoader(opts?: DataLoaderResolverOpts)</code></a></li><li><a href="#dataloadermanyopts-dataloadermanyresolveropts"><code>dataLoaderMany(opts?: DataLoaderManyResolverOpts)</code></a></li><li><a href="#findbyidopts-findbyidresolveropts"><code>findById(opts?: FindByIdResolverOpts)</code></a></li><li><a href="#findbyidsopts-findbyidsresolveropts"><code>findByIds(opts?: FindByIdsResolverOpts)</code></a></li><li><a href="#findmanyopts-findmanyresolveropts"><code>findMany(opts?: FindManyResolverOpts)</code></a></li><li><a href="#findoneopts-findoneresolveropts"><code>findOne(opts?: FindOneResolverOpts)</code></a></li><li><a href="#paginationopts-paginationresolveropts"><code>pagination(opts?: PaginationResolverOpts)</code></a></li><li><a href="#removebyidopts-removebyidresolveropts"><code>removeById(opts?: RemoveByIdResolverOpts)</code></a></li><li><a href="#removemanyopts-removemanyresolveropts"><code>removeMany(opts?: RemoveManyResolverOpts)</code></a></li><li><a href="#removeoneopts-removeoneresolveropts"><code>removeOne(opts?: RemoveOneResolverOpts)</code></a></li><li><a href="#updatebyidopts-updatebyidresolveropts"><code>updateById(opts?: UpdateByIdResolverOpts)</code></a></li><li><a href="#updatemanyopts-updatemanyresolveropts"><code>updateMany(opts?: UpdateManyResolverOpts)</code></a></li><li><a href="#updateoneopts-updateoneresolveropts"><code>updateOne(opts?: UpdateOneResolverOpts)</code></a></li><li><a href="#description-of-common-resolvers-options">Description of common resolvers' options</a></li></ul></li><li><a href="#faq">FAQ</a><ul class="toc-headings"><li><a href="#can-i-get-generated-vanilla-graphql-types">Can I get generated vanilla GraphQL types?</a></li><li><a href="#how-to-add-custom-fields">How to add custom fields?</a></li><li><a href="#how-to-build-nesting-relations">How to build nesting/relations?</a></li><li><a href="#reusing-the-same-mongoose-schema-in-embedded-object-fields">Reusing the same mongoose Schema in embedded object fields</a></li><li><a href="#access-and-modify-mongoose-doc-before-save">Access and modify mongoose doc before save</a></li><li><a href="#how-can-i-push-pop-or-add-remove-values-to-arrays">How can I push/pop or add/remove values to arrays?</a></li><li><a href="#is-it-possible-to-use-several-schemas">Is it possible to use several schemas?</a></li><li><a href="#embedded-documents-has-id-field-and-you-don-t-need-it">Embedded documents has <code>_id</code> field and you don't need it?</a></li><li><a href="#can-field-name-in-schema-have-different-name-in-database">Can field name in schema have different name in database?</a></li></ul></li><li><a href="#license">License</a></li></ul></nav></div><footer class="nav-footer" id="footer"><div><span><script src="/js/pjax-api.js"></script><script>
      window.foo = new Pjax({
        areas: [
          // try to use the first query.
          '.mainContainer, .onPageNav, .docsNavContainer .toc .navWrapper',
          // fallback
          'body'
        ],
        link: '.docsNavContainer:not(.docsSliderActive) a',
        update: {
          script: false,
        }
      });

      if (document && document.addEventListener) {
        document.addEventListener('pjax:ready', function (e) {
          if (ga) ga('send', 'pageview', location.pathname);
        });
      }

      var languagesMenuItemCopy = document.getElementById("languages-menu");
      if (languagesMenuItemCopy) {
        languagesMenuItemCopy.addEventListener("click", function(e){
          e.preventDefault();
          e.stopPropagation();
          e.stopImmediatePropagation();
        });
      }
      </script></span></div><section class="sitemap"><span class="nav-home" style="height:1px"></span><div><h5>Docs</h5><a href="/docs/intro/quick-start.html">Get Started</a><a href="/docs/api/SchemaComposer.html">API Reference</a><a href="/docs/plugins/list-of-plugins.html">Plugins</a><a href="https://graphql-compose.herokuapp.com/" target="_blank">Live Demo</a></div><div><h5>Community</h5><a href="https://github.com/graphql-compose/graphql-compose/issues" target="_blank">Issues</a><a href="https://twitter.com/nodkz" target="_blank">Twitter</a><a href="https://opencollective.com/graphql-compose" target="_blank">Donate</a></div><div><h5>More</h5><a href="https://www.npmjs.com/package/graphql-compose" target="_blank">NPM</a><a href="https://github.com/graphql-compose/graphql-compose" target="_blank">GitHub</a><a class="github-button" href="https://github.com/graphql-compose/graphql-compose" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2021  <span style="color:black">🇰🇿</span> Pavel Chertorogov @nodkz</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '34b5c77954100fe8e57575f8dfd60185',
                indexName: 'graphql-compose',
                inputSelector: '#search_input_react',
                algoliaOptions: {"hitsPerPage":10}
              });
            </script></body></html>